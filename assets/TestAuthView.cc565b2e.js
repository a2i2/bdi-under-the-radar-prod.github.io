import{f as L,c as p,e,J as g,l as _,a1 as z,o as m,_ as U,x as r,h as H,j as s,P as w,Q as C,k as o,F as O,m as N,D as Q,T as K,A as u,p as X,b as Y,a9 as Z,aa as ee,ab as te,ac as B,ad as ae}from"./index.ca7cfd28.js";const le=["disabled","checked","aria-label"],oe=L({__name:"CheckboxControl",props:{modelValue:{type:Boolean,default:!1},label:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:n}){function i(h){const f=h.target;n("update:modelValue",f.checked)}return(h,f)=>(m(),p("label",{class:z(["checkbox-control",{disabled:l.disabled}])},[e("input",{disabled:l.disabled,type:"checkbox",checked:l.modelValue,"aria-label":l.label,onChange:i},null,40,le),g(" "+_(l.label),1)],2))}});const se=U(oe,[["__scopeId","data-v-0f3ca0b8"]]),V=l=>(X("data-v-8d9f8ed9"),l=l(),Y(),l),ne={class:"auth-test-page"},ie=V(()=>e("hr",null,null,-1)),de={class:"atp-grid"},ue={class:"atp-mobile"},ce=["disabled"],re={class:"atp-email"},pe=["disabled"],_e={class:"atp-participant"},me={class:"atp-otp"},ve=["disabled"],be={class:"atp-button-row"},he=V(()=>e("hr",null,null,-1)),fe=V(()=>e("hr",null,null,-1)),ge={key:0},xe={class:"profile-box"},ye=["src"],ke={key:1},we=L({__name:"TestAuthView",setup(l){var P,S;const{user:n,isLoggedIn:i,email:h,mobile:f,startPasswordlessEmailLogin:A,submitEmailOTP:R,startPasswordlessSmsLogin:G,submitSmsOTP:M,getRouterTargetForHomeOrLoginIfNeeded:$,logout:q}=Q(),x=r(""),y=r(""),v=r((P=h.value)!=null?P:""),b=r((S=f.value)!=null?S:""),k=r(""),c=r(!0),T=H(()=>{var t,a;return(a=(t=n.value)==null?void 0:t.user_metadata.participantId)!=null?a:""});async function D(){try{const t=await Z();x.value=JSON.stringify(t,null,"	")}catch(t){x.value=`${t}`}}async function F(){try{const a=await ee("00000000-0000-0000-0000-000000000001");y.value=JSON.stringify(a,null,"	")}catch(t){console.log("caught"),y.value=`${t}`}}async function J(){const t=c.value?b.value:void 0,a=c.value?void 0:v.value;return await te(a,t),E()}async function E(){c.value?await G(b.value):await A(v.value)}async function W(){const t=k.value;c.value?await M(t,b.value):await R(t,v.value),B.push($())}const I=()=>{q(),B.push("/")},j=async()=>{await ae(T.value),I()};return(t,a)=>(m(),p("div",ne,[s(K,{label:"Back",link:"/"}),ie,e("div",de,[e("div",null,[e("div",ue,[g("mobile: "),w(e("input",{"onUpdate:modelValue":a[0]||(a[0]=d=>b.value=d),type:"text",disabled:o(i)},null,8,ce),[[C,b.value]])]),e("div",re,[g("email: "),w(e("input",{"onUpdate:modelValue":a[1]||(a[1]=d=>v.value=d),type:"text",disabled:o(i)},null,8,pe),[[C,v.value]])]),e("div",_e,"participantId: "+_(o(T)),1),e("div",me,[g("otp response: "),w(e("input",{"onUpdate:modelValue":a[2]||(a[2]=d=>k.value=d),type:"text",disabled:o(i)},null,8,ve),[[C,k.value]])]),e("div",be,[o(i)?N("",!0):(m(),p(O,{key:0},[s(u,{label:"Sign Up",onClick:J}),s(u,{label:"Request OTP Code",onClick:E}),s(u,{label:"Enter OTP Code",onClick:W}),s(se,{modelValue:c.value,"onUpdate:modelValue":a[3]||(a[3]=d=>c.value=d),label:"Use Mobile Login"},null,8,["modelValue"])],64)),o(i)?(m(),p(O,{key:1},[s(u,{label:"Log Out",icon:"signup",onClick:I}),s(u,{label:"Withdraw (delete user info)",icon:"signup",onClick:j})],64)):N("",!0)]),he,e("div",null,[s(u,{label:"Get Experiments",icon:"download",onClick:D}),e("pre",null,_(x.value),1)]),fe,e("div",null,[s(u,{label:"Get Experiment",icon:"download",onClick:F}),e("pre",null,_(y.value),1)])]),e("div",null,[o(n)?(m(),p("div",ge,[e("div",xe,[e("img",{src:o(n).picture,alt:"Profile"},null,8,ye),e("div",null,[e("h2",null,_(o(n).nickname),1),e("span",null,_(o(n).email),1)])])])):(m(),p("div",ke,"No User info"))])])]))}});const Ve=U(we,[["__scopeId","data-v-8d9f8ed9"]]);export{Ve as default};
